---
import Title from "./header/Title.astro";
import Hamburger from "./header/Hamburger.astro";
import Nav from "./header/Nav.astro";
---

<header id="header">
    <Title />
    <Hamburger />
    <Nav />
</header>

<style>
    header {
        backdrop-filter: blur(2px);
        background-color: var(--color-header);
        display: flex;
        font-size: 22px;
        justify-content: space-between;
        left: 50%;
        max-width: 1000px;
        padding: 0.5em 0;
        position: fixed;
        top: 0;
        transform: translateX(-50%);
        transition: background-color 350ms cubic-bezier(0.22, 0.61, 0.36, 1);
        width: 100%;

        &.expand {
            background-color: var(--color-base);
        }

        a {
            color: var(--color-primary-1);
            text-decoration: none;
            user-select: none;
        }
    }
</style>

<script>
    document.addEventListener("astro:page-load", () => {
        const header = document.getElementById("header") as HTMLElement;
        const hamburger = document.getElementById("hamburger") as HTMLDivElement;
        const nav = document.getElementById("nav") as HTMLElement;

        function toggleExpand() {
            header.classList.toggle("expand");
            hamburger.classList.toggle("expand");
            nav.classList.toggle("expand");
        }

        hamburger.onclick = () => toggleExpand();
        hamburger.onfocus = () => {
            hamburger.onkeyup = () => toggleExpand();
        };
    });
</script>
