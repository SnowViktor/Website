---
import type { CollectionEntry } from "astro:content";
import BaseLayout from "@layouts/BaseLayout.astro";
import ArticleNavigation from "@components/article_layout/ArticleNavigation.astro";
import { formatAttributeDate, formatContentDate } from "@utils/time";

type Props = CollectionEntry<"articles">["data"];
const {
  title,
  description,
  pubDate,
  updatedDate,
  categories,
  author,
  heroImage,
} = Astro.props;
---

<BaseLayout
  title=`${formatContentDate(pubDate, false)}．${title}`
  description={description}
>
  <article>
    <p class="information">
      {categories.map((category) => <a>＃{category}</a>)}．<time
        datetime={formatAttributeDate(pubDate)}
        >{formatContentDate(pubDate)}</time
      >
    </p>
    <h1>{title}</h1>
    <p>作者：{author}</p>
    <hr />
    <div>
      <slot />
    </div>
  </article>
  <ArticleNavigation title={title} />
</BaseLayout>

<style>
  p {
    font-family: var(--font-serif);
    font-size: 0.8em;
    font-weight: 500;
    text-align: center;
  }

  time {
    word-spacing: -0.15em;
  }

  h1 {
    margin-bottom: 0;

    & + p {
      margin-block: calc(36px * 0.25) calc(36px * 0.75);
    }
  }

  div {
    font-family: var(--font-cursive);
    letter-spacing: 0;
    margin-block: 1em;

    details {
      color: var(--color-text-secondary);
    }
  }
</style>
