---
import CollectionLayout from "@layouts/CollectionLayout.astro";
import { CATEGORY_LIST } from "src/consts";
import { filterAndSortArticlesByCategory } from "@utils/collection";

export async function getStaticPaths() {
  return CATEGORY_LIST.map((obj) => ({
    params: { categoryId: obj.id },
    props: { category: obj.name },
  }));
}
const { category } = Astro.props;
const articles = await filterAndSortArticlesByCategory(category);
---

<CollectionLayout
  title={`Category: ${category}`}
  description={`Category: ${category}`}
  articles={articles}
/>
